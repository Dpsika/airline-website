(self.travelpayoutsWpPlugin=self.travelpayoutsWpPlugin||[]).push([[516],{57703:(t,n,e)=>{"use strict";e.r(n);var o=function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function c(t){try{s(o.next(t))}catch(t){r(t)}}function a(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,a)}s((o=o.apply(t,n||[])).next())}))};const i=t=>o(void 0,void 0,void 0,(function*(){const[n]=Array.from(t),e=yield(t=>new Promise(((n,e)=>{const o=new FileReader;o.readAsText(t),o.onload=()=>n(o.result),o.onerror=t=>e(t)})))(n);if("string"==typeof e)try{return JSON.parse(e)}catch(t){}}));var r=e(14206),c=e.n(r),a=e(8139),s=function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function c(t){try{s(o.next(t))}catch(t){r(t)}}function a(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,a)}s((o=o.apply(t,n||[])).next())}))};var u=function(t,n,e,o){return new(e||(e=Promise))((function(i,r){function c(t){try{s(o.next(t))}catch(t){r(t)}}function a(t){try{s(o.throw(t))}catch(t){r(t)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(c,a)}s((o=o.apply(t,n||[])).next())}))};const l=document.querySelector("#travelpayouts_import_settings_button"),f=document.querySelector("#travelpayouts_import_settings_file");if(l&&f){const t=l.style.display;l.style.display="none";const n=()=>u(void 0,void 0,void 0,(function*(){if(f.files&&f.files.length){const n=yield i(f.files);if(n){if(yield(t=n,s(void 0,void 0,void 0,(function*(){try{const n=(0,a.stringify)({action:"travelpayouts_import_file",settings:t}),e=yield c().post(window.ajaxurl,n,{});if(e&&"success"===e.data.status)return!0}catch(t){}return!1}))))return window.localStorage.setItem("wp_plugin_import_success","true"),window.onbeforeunload=null,window.scroll({top:0}),void location.reload()}}var t}));l.addEventListener("click",n),f.addEventListener("change",(()=>{f.files&&(l.style.display=t)}))}},96553:()=>{}}]);